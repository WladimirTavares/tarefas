<!doctype html>
<meta charset=utf8>
<html>
    <head>
        <style>
            div.editor {
                width: 100%;
            }
        </style>
    </head>
    <body>
        <h1>código C, casos de teste estáticos<br>Configurar Auto-Correção</h1>
        <br>
        <button id="btdfonte">A-</button>&nbsp;<button id="btafonte">A+</button>

        <h2>1. Cabeçalho</h2>
        <div class="editor" id="div1"></div>
        <br>

        <h2>2. Cabeçalho do modelo</h2>
        <div class="editor" id="div2"></div>
        <br>

        <h2>3. Solução</h2>
        <div class="editor" id="div3"></div>
        <br>

        <!--<h2>4. Número de casos de teste</h2>
        <div class="editor" id="div4"></div>
        <br>-->

        <h2>4. Número de casos de teste</h2>
        <div class="editor" id="divncts"><input type="number" id="inptnumcts" name="inptnumcts" min="1" max="10" value="$NUMCTS$" /></div>
        <br>

        <h2>5. Geração de caso de teste</h2>
        <div class="editor" id="div5"></div>
        <br>

        <h2>6. Salvar caso de teste</h2>
        <div class="editor" id="div6"></div>
        <br>

        <h2>7. Carregar variáveis globais de entrada e saída</h2>
        <div class="editor" id="div7"></div>
        <br>

        <h2>8. Salvar variáveis globais de entrada e saída</h2>
        <div class="editor" id="div8"></div>
        <br>

        <h2>9. Avaliação Estática</h2>
        <div class="editor" id="div9"></div>
        <br>

        <h2>10. Rotinas de Feedback</h2>
        <div class="editor" id="div10"></div>
        <br>

        <script>
            var mEV = null;
            var mBS = null;
            var mKM  = null;
            var mIT = null;
            var mCPP = null;
            var mOD = null;
        </script>
        <script src="$URLDWLTAREFAS$/editor.bundle.js"></script>
        <script>
            let ed1 = new mEV({
            doc : "$CAB$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div1'),
            });

            let ed2 = new mEV({
            doc : "$CABMOD$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div2'),
            });

            let ed3 = new mEV({
            doc : "$SOL$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div3'),
            });

            /*
            let ed4 = new mEV({
            doc : "$NUMCTS$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div4'),
            });
            */

            let ed5 = new mEV({
            doc : "$GERCT$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div5'),
            });

            let ed6 = new mEV({
            doc : "$SALVARCT$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div6'),
            });

            let ed7 = new mEV({
            doc : "$CARREGARCT$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div7'),
            });

            let ed8 = new mEV({
            doc : "$SALVARSAIDA$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div8'),
            });

            let ed9 = new mEV({
            doc : "$AVALESTAT$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div9'),
            });

            let ed10 = new mEV({
            doc : "$FEEDBACK$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div10'),
            });

            function extrairCodigo() {
                document.getElementById('taCab').value = ed1.state.doc;
                document.getElementById('taCabMod').value = ed2.state.doc;
                document.getElementById('taSol').value = ed3.state.doc;
                //document.getElementById('taNumCts').value = ed4.state.doc;
                document.getElementById('numcts').value = document.getElementById('inptnumcts').value;
                document.getElementById('taGerCt').value = ed5.state.doc;
                document.getElementById('taSalvarCt').value = ed6.state.doc;
                document.getElementById('taCarregarCt').value = ed7.state.doc;
                document.getElementById('taSalvarSaida').value = ed8.state.doc;
                document.getElementById('taAvalEstat').value = ed9.state.doc;
                document.getElementById('taFeedBack').value = ed10.state.doc;
            }

            var tamfonte = 12;
            
            function afonte() {
                tamfonte += 2;

                var cssclass = document.querySelectorAll('.cm-editor');
                cssclass.forEach(editor => {
                    editor.style.fontSize = tamfonte + 'px';
                    
                });

                cssclass = document.querySelectorAll('.cm-content');
                cssclass.forEach(editor => {
                    editor.style.fontSize = tamfonte + 'px';
                    
                });
            }
            function dfonte() {
                tamfonte -= 2;

                var cssclass = document.querySelectorAll('.cm-editor');
                cssclass.forEach(editor => {
                    editor.style.fontSize = tamfonte + 'px';
                    
                });

                cssclass = document.querySelectorAll('.cm-content');
                cssclass.forEach(editor => {
                    editor.style.fontSize = tamfonte + 'px';
                    
                });
            }

            document.getElementById('btafonte').onclick = afonte;
            document.getElementById('btdfonte').onclick = dfonte;

        </script>

        <form method="post" action="" onsubmit="extrairCodigo();">
            <textarea name="taCab" id="taCab" hidden></textarea>
            <textarea name="taCabMod" id="taCabMod" hidden></textarea>
            <textarea name="taSol" id="taSol" hidden></textarea>
            <!--<textarea name="taNumCts" id="taNumCts" hidden></textarea>-->
            <input type="hidden" name="numcts" id="numcts" />
            <textarea name="taGerCt" id="taGerCt" hidden></textarea>
            <textarea name="taSalvarCt" id="taSalvarCt" hidden></textarea>
            <textarea name="taCarregarCt" id="taCarregarCt" hidden></textarea>
            <textarea name="taSalvarSaida" id="taSalvarSaida" hidden></textarea>
            <textarea name="taAvalEstat" id="taAvalEstat" hidden></textarea>
            <textarea name="taFeedBack" id="taFeedBack" hidden></textarea>
            <button type="submit" name="acao" value="$ACAO$">enviar</button>
            <!--<input type="hidden" name="tipoTarefa" id="tipoTarefa" value="$TIPOTAREFA$">-->
            <input type="hidden" name="idItemTarefa" value="$IDITEMTAREFA$">
            <input type="hidden" name="idTarefa" value="$IDTAREFA$">
            <input type="hidden" name="idTrabalho" value="$IDTRABALHO$">
            <input type="hidden" name="idTurma" value="$IDTURMA$">
            <input type="hidden" name="ids" value="$IDSESSAO$">
        </form>
    </body>
</html>
