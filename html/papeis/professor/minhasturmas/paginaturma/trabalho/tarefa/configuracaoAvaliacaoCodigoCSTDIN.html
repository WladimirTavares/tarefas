<!doctype html>
<meta charset=utf8>
<html>
    <head>
        <style>
            div.editor {
                width: 100%;
            }
        </style>
    </head>
    <body>
        <h1>c√≥digo C, STDIN<br>Configurar Modelo</h1>
        <br>
        <button id="btdfonte">A-</button>&nbsp;<button id="btafonte">A+</button>

        <h2>2. Modelo</h2>
        <div class="editor" id="div2"></div>
        <br>

        <script>
            var mEV = null;
            var mBS = null;
            var mKM  = null;
            var mIT = null;
            var mCPP = null;
            var mOD = null;
        </script>
        <script src="$URLDWLTAREFAS$/editor.bundle.js"></script>
        <script>

            let ed2 = new mEV({
            doc : "$CABMOD$",
            extensions: [mBS,
                            mKM.of({
                                key: 'Tab',
                                preventDefault: true,
                                run: mIT,
                            }),
                        mCPP(),
                        //myTheme
                        mOD
                        ],
            parent: document.getElementById('div2'),
            });


            function extrairCodigo() {
                document.getElementById('taCabMod').value = ed2.state.doc;
            }

            var tamfonte = 12;
            
            function afonte() {
                tamfonte += 2;

                var cssclass = document.querySelectorAll('.cm-editor');
                cssclass.forEach(editor => {
                    editor.style.fontSize = tamfonte + 'px';
                    
                });

                cssclass = document.querySelectorAll('.cm-content');
                cssclass.forEach(editor => {
                    editor.style.fontSize = tamfonte + 'px';
                    
                });
            }
            function dfonte() {
                tamfonte -= 2;

                var cssclass = document.querySelectorAll('.cm-editor');
                cssclass.forEach(editor => {
                    editor.style.fontSize = tamfonte + 'px';
                    
                });

                cssclass = document.querySelectorAll('.cm-content');
                cssclass.forEach(editor => {
                    editor.style.fontSize = tamfonte + 'px';
                    
                });
            }

            document.getElementById('btafonte').onclick = afonte;
            document.getElementById('btdfonte').onclick = dfonte;

        </script>

        <form method="post" action="" onsubmit="extrairCodigo();">
            <textarea name="taCabMod" id="taCabMod" hidden></textarea>
            <button type="submit" name="acao" value="$ACAO$">enviar</button>
            <!--<input type="hidden" name="tipoTarefa" id="tipoTarefa" value="$TIPOTAREFA$">-->
            <input type="hidden" name="idItemTarefa" value="$IDITEMTAREFA$">
            <input type="hidden" name="idTarefa" value="$IDTAREFA$">
            <input type="hidden" name="idTrabalho" value="$IDTRABALHO$">
            <input type="hidden" name="idTurma" value="$IDTURMA$">
            <input type="hidden" name="ids" value="$IDSESSAO$">
        </form>
    </body>
</html>
